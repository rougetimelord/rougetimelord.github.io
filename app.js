function e(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function f(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:e(a)}}function g(a){var b=new XMLHttpRequest;b.open("GET",a,!0);b.timeout=4E3;b.onload=function(){if(200==b.status||304==b.status){var a=b.responseText,d=document.getElementsByClassName("main")[0];a=document.createRange().createContextualFragment(a).querySelector(".main");d.innerHTML=a.innerHTML;k()}};b.send()}function k(){var a=document.getElementsByClassName("xhr");if(0!=a.length){var b={};a=f(a);for(var c=a.next();!c.done;b={h:b.h},c=a.next())b.h=c.value,b.h.addEventListener("click",function(a){return function(b){b.preventDefault();g(a.h.href)}}(b),!1)}}document.addEventListener("DOMContentLoaded",function(){k();(new l).u();new m;"suspended"==window.context.state&&(window.context.close(),document.addEventListener("click",function(){"running"!=window.context.state&&new m}))});function m(){var a=this;window.context=new AudioContext;if("running"!=window.context.state)return!1;this.f=window.context.createAnalyser();this.f.smoothingTimeConstant=.3;this.f.fftSize=1024;this.c=window.context.createGain();this.c.gain.setValueAtTime(0,window.context.currentTime);this.c.connect(window.context.destination);this.f.connect(this.c);this.j="";this.s=!0;this.g={};this.o=this.l="";this.i=["dreamy","afterparty","superstar","fuck-boy","boy"];this.m=[70];this.F=0;document.addEventListener("visibilitychange",function(){a.c.gain.cancelScheduledValues(window.context.currentTime);a.c.gain.linearRampToValueAtTime(document.hidden?.03:.35,window.context.currentTime+(document.hidden?.75:.3));document.hidden&&a.c.gain.setValueAtTime(.01,window.context.currentTime+60)});this.source=this.duration=this.request="";this.G();n(this)}m.prototype.G=function(){function a(a){return a.reduce(function(a,b){return a+b})/a.length}this.j=requestAnimationFrame(this.G.bind(this));var b=new Uint8Array(this.f.frequencyBinCount);this.f.getByteFrequencyData(b);this.F=a(this.m);for(var c=document.getElementsByClassName("react"),d=f(c),h=d.next();!h.done;h=d.next())h.value.classList.remove("light");if(a(b)>=this.F)for(c=f(c),d=c.next();!d.done;d=c.next())d.value.classList.add("light");10<this.m.push(a(b))&&this.m.shift()};m.prototype.C=function(a){this.source=window.context.createBufferSource();this.source.connect(this.f);this.source.buffer=a;this.duration=1E3*a.duration;this.source.start(0);setTimeout(this.H.bind(this),this.duration);this.s&&(this.c.gain.linearRampToValueAtTime(.35,window.context.currentTime+1.5),this.s=!1)};function p(a,b,c,d){a.request=new XMLHttpRequest;a.request.addEventListener("load",function(){window.context.decodeAudioData(this.response,function(b){a.g[c]=b;d&&d.bind(a)(a.g[c])})});a.request.responseType="arraybuffer";a.request.open("GET",b,!0);a.request.send()}m.prototype.H=function(){var a=Object.keys(this.g);this.C(this.g[a[Math.floor(Math.random()*a.length)]])};function n(a){var b=Math.floor(Math.random()*a.i.length);a.o=a.i[b];a.i.splice(b,1);p(a,"./Content/"+a.o+".ogg",a.o,a.C);a.i.forEach(function(b){a.l=b;p(a,"./Content/"+a.l+".ogg",a.l,!1)})}window.Music=m;function l(){this.I=document.getElementById("back");this.canvas=document.createElement("canvas");this.I.appendChild(this.canvas);this.a=this.canvas.getContext("2d");this.width=this.height=0;this.A=15;this.v=30;this.b=100;this.B=0;var a=new Date;this.w="204"==String(a.getDate())+String(a.getMonth+1);this.image=null}l.prototype.u=function(){var a=this;this.width=window.innerWidth;this.height=window.innerHeight;window.onresize=function(){a.width=window.innerWidth;a.height=window.innerHeight;a.canvas.width=a.width;a.canvas.height=a.height};this.canvas.width=this.width;this.canvas.height=this.height;for(var b=[],c=0;c<this.b;c++)b[c]=new q(Math.random()*this.width,Math.random()*this.height,Math.floor(7*Math.random())+10,Math.random()*this.v+this.A);this.b=b;this.w&&(this.image=new Image,this.image.src="./Content/meme.png");requestAnimationFrame(this.D.bind(this))};l.prototype.D=function(a){this.update(a);this.w?r(this):this.j();requestAnimationFrame(this.D.bind(this))};l.prototype.update=function(a){var b=(a-this.B)/1E3;b=5<=b?5:b;for(var c=0;c<this.b.length;c++){var d=this.b[c];d.y+=b*d.J;d.y>this.height&&(this.b[c]=new q(Math.random()*this.width,0,3*Math.random()+7,Math.random()*this.v+this.A))}this.B=a};l.prototype.j=function(){this.a.fillStyle="#000000";this.a.fillRect(0,0,this.width,this.height);this.a.fillStyle="#ffffff";for(var a=0;a<this.b.length;a++){var b=this.b[a];this.a.font=b.size+"px 'Roboto', sans-serif";this.a.fillText("*",b.x,b.y)}};function r(a){a.a.fillStyle="#000000";a.a.fillRect(0,0,a.width,a.height);a.a.fillStyle="#ffffff";a.b.forEach(function(b){a.a.drawImage(a.image,b.x,b.y,4*b.size,4*b.size)})}function q(a,b,c,d){this.x=a;this.y=b;this.size=c;this.J=d}window.Starfield=l;l.prototype.initialize=l.prototype.u;